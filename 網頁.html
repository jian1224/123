<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>è¡¨æƒ…ç¬¦è™Ÿåˆ‡æ›å°å·¥å…·</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #fefefe;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    #search {
      padding: 10px;
      width: 60%;
      font-size: 16px;
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #random-btn, #copy-btn, #toggle-btn {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }
    #random-btn {
      background-color: #FF9800;
      color: white;
    }
    #copy-btn {
      background-color: #2196F3;
      color: white;
    }
    #toggle-btn {
      background-color: #9C27B0;
      color: white;
    }
    #emoji-display {
      margin-top: 20px;
      font-size: 2rem;
      padding: 20px;
      background: #fff;
      display: inline-block;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      min-width: 200px;
    }
    @media (max-width: 600px) {
      #search {
        width: 90%;
      }
      #emoji-display {
        min-width: auto;
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <h1>è¡¨æƒ…éš¨æ©Ÿæ¨è–¦ + æœå°‹å·¥å…·</h1>
  <input type="text" id="search" placeholder="è¼¸å…¥æƒ…ç·’æˆ–é—œéµå­—æœå°‹..." oninput="searchFaces()" />
  <br />
  <button id="random-btn" onclick="showRandomFace()">éš¨æ©Ÿæ¨è–¦</button>
  <button id="toggle-btn" onclick="toggleMode()">åˆ‡æ›ç‚º Emoji æ¨¡å¼</button>
  <button id="copy-btn" onclick="copyToClipboard()">è¤‡è£½è¡¨æƒ…</button>

  <div id="emoji-display">é»ä¸Šæ–¹æŒ‰éˆ•éš¨æ©Ÿæ¨è–¦ä¸€å€‹è¡¨æƒ…ï¼</div>

  <h2>æœ€è¿‘ä½¿ç”¨çš„è¡¨æƒ…</h2>
  <div id="recent-faces"></div>

  <script>
    let mode = 'kaomoji'; // kaomoji or emoji
    const recentFaces = [];

    const kaomojiData = {
      "å¿«æ¨‚": ["(ï¼¾â–½ï¼¾)", "ãƒ½(ãƒ»âˆ€ãƒ»)ï¾‰", "(*â‰§Ï‰â‰¦)", "(o^â–½^o)", "(*Â´âˆ€ï½€*)"],
      "æ‚²å‚·": ["(T_T)", "(ï¼›Ï‰ï¼›)", "(à²¥ï¹à²¥)"],
      "ç”Ÿæ°£": ["(â•¬à² ç›Šà² )", "(ãƒà² ç›Šà² )ãƒå½¡â”»â”â”»"],
      "æˆ€æ„›": ["(â™¡Ë™ï¸¶Ë™â™¡)", "(ï½¡â™¥â€¿â™¥ï½¡)"],
      "å®³ç¾": ["(///âˆ‡///)", "(â‰§âˆ‡â‰¦)", "(â„ â„â€¢â„Ï‰â„â€¢â„ â„)"],
      "é©šè¨": ["(âŠ™_â˜‰)", "(o_O)", "(ï¾ŸĞ´ï¾Ÿ)"]
    };

    const emojiData = {
      "å¿«æ¨‚": ["ğŸ˜„", "ğŸ˜", "ğŸ˜Š", "ğŸ˜†"],
      "æ‚²å‚·": ["ğŸ˜¢", "ğŸ˜­", "ğŸ˜", "ğŸ˜”"],
      "ç”Ÿæ°£": ["ğŸ˜ ", "ğŸ˜¡", "ğŸ¤¬"],
      "æˆ€æ„›": ["ğŸ˜", "ğŸ˜˜", "â¤ï¸"],
      "å®³ç¾": ["ğŸ˜³", "ğŸ˜Š", "ğŸ˜š"],
      "é©šè¨": ["ğŸ˜±", "ğŸ˜®", "ğŸ˜²"]
    };

    function getCurrentData() {
      return mode === 'kaomoji' ? kaomojiData : emojiData;
    }

    function showRandomFace() {
      const data = getCurrentData();
      const categories = Object.keys(data);
      const cat = categories[Math.floor(Math.random() * categories.length)];
      const faces = data[cat];
      const random = faces[Math.floor(Math.random() * faces.length)];
      document.getElementById("emoji-display").innerText = random;
      addToRecent(random);
    }

    function searchFaces() {
      const data = getCurrentData();
      const query = document.getElementById("search").value.trim().toLowerCase();
      if (!query) return;
      for (const category in data) {
        if (category.toLowerCase().includes(query)) {
          const random = data[category][Math.floor(Math.random() * data[category].length)];
          document.getElementById("emoji-display").innerText = random;
          addToRecent(random);
          return;
        }
      }
      document.getElementById("emoji-display").innerText = "æ‰¾ä¸åˆ°å°æ‡‰çš„æƒ…ç·’ (Â´ãƒ»Ï‰ãƒ»` )";
    }

    function toggleMode() {
      mode = mode === 'kaomoji' ? 'emoji' : 'kaomoji';
      document.getElementById("toggle-btn").innerText = mode === 'kaomoji' ? 'åˆ‡æ›ç‚º Emoji æ¨¡å¼' : 'åˆ‡æ›ç‚º é¡æ–‡å­— æ¨¡å¼';
      document.getElementById("emoji-display").innerText = mode === 'kaomoji'
        ? 'ç›®å‰æ˜¯ é¡æ–‡å­— æ¨¡å¼ (âŒ’â–½âŒ’)â˜†'
        : 'ç›®å‰æ˜¯ Emoji æ¨¡å¼ ğŸ˜€';
    }

    function addToRecent(face) {
      recentFaces.unshift(face);
      if (recentFaces.length > 5) recentFaces.pop();
      updateRecentFaces();
    }

    function updateRecentFaces() {
      const recentContainer = document.getElementById("recent-faces");
      recentContainer.innerHTML = recentFaces.map(face => `<span>${face}</span>`).join(' ');
    }

    function copyToClipboard() {
      const text = document.getElementById("emoji-display").innerText;
      if (text.trim()) {
        navigator.clipboard.writeText(text).then(() => {
          alert("å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼\n" + text);
        });
      }
    }
  </script>
</body>
</html>
